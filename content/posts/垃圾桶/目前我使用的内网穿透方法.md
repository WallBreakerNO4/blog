---
title: 目前我使用的内网穿透方法
date: 2023-11-28T09:32:00Z
draft: "true"
author: WallBreakerNO4
---
前天晚上我在折腾我的 OpenWRT 路由器时不小心把路由表 boom 了，炸到访问不到管理网页的程度。由于那是一台硬路由，我不得不重新安装系统并且重新配置。
![image.png](https://image.wall-breaker-no4.xyz/imgs/202311291728450.png)

> ~~那天晚上我宿舍的网络状态~~

在重新配置的过程中，除了让人心碎的多拨和分流配置，最让我头疼的就是配置我用来内网穿透的 WireGuard。因此我决定记录一下我目前使用的内网穿透服务，即 WireGuard，以防未来我需要重新配置时又需要头脑风暴。

## 哦，选择！

目前市面上有许多的内网穿透服务，大体上可以分为两类：VPN 和 P2P 打洞。这两者的优缺点如下：
- VPN
	+ 较为稳定
	+ 需要至少一个公网 IP
	+ 速度上限取决于公网 IP 设备
- P2P 打洞
	- 无需公网 IP
	- 要访问的内网需要有良好的 NAT 类型
### 我的选择

对于这两种类型的解决方案，我分别尝试了 WireGuard（VPN）和 ZeroTier（P2P）。最终基于以下理由，我选择了 WireGuard：
- 我有一台拥有公网 IP 的服务器
- 在校内我不需要高速访问宿舍内（如看视频）~~~我可以回宿舍看~~~
- 由于不需要打洞，相比ZeroTier建立连接所需的时间极短，几乎无感
- 同样由于不需要打洞，在更换网络环境时（如自习室到教室）时不需要重新建立连接
## 搭建 WireGuard

