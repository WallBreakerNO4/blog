---
title: 使用 Tailscale + WireGuard 组网
date: 2024-03-27T20:12:00Z
draft: "true"
author: WallBreakerNO4
---
今年年初，我购入了属于自己的 NAS，并在将其作为 HomeLab ~~All In Boom~~ 搭建了许多服务。
![image.png](https://image.wall-breaker-no4.xyz/imgs/202403222130140.png#center)
>部分自建的服务

在宿舍的局域网内访问这些服务自然是十分方便的。但平常在校内上课时想访问 NAS 上的服务，就需要一番配置了。

## 内网穿透

内网穿透主要有两种：**公网 IP 中转** or **打洞直连**。这两种方式各有其优缺点：
- 公网 IP 中转：
	- 优点：对网络环境（准确说是 NAT 类型）没有要求
	- 缺点：需要公网 IP，如果宿舍没有公网 IP 的话则需要中转服务器
- 打洞直连：
	- 优点：无需公网 IP
	- 缺点：需要至少一个客户端有良好的 NAT 类型

~~会同职业寄术学院~~ UIC 一期宿舍内有三家运营商，分别是电信、移动和联通。其中联通是唯一一家同时提供 PPPoE 拨号和 IPv6 服务。我在搬到一期宿舍前还听说联通可以申请到公网 IP，因此选择了联通。然而现在联通也申请不到公网 IP 了，令人感慨。
> ~~得出结论，警惕 [@Steven](https://blog.steven53.top/) 的电信诈骗~~

在最开始，我选择了使用 WireGuard + 腾讯云轻量服务器作为中转来提供宿舍的内网穿透。这套方案最开始运作的很好，但用久了就暴露出了一些问题：